const o={regexDate:/^\d{4}\/\d{2}\/\d{2}$/,calculateAgeNow:e=>{const n=new Date(e),t=new Date;let a=t.getFullYear()-n.getFullYear();const l=t.getMonth()-n.getMonth(),u=t.getDate()-n.getDate();return(l<0||l===0&&u<0)&&a--,a},checkDate:e=>{if(!e)return!1;const n=new Date(e);return!(isNaN(n.getTime())||!o.regexDate.test(e))}},r={inputRenderingTypes:[{label:"\u7D14\u503C",value:"pureValue"}],inputDateRenderingTypes:[{label:"\u5E74\u9F61",value:"age"}],checkboxRenderingTypes:[{label:"\u9078\u9805\u5305\u542B",value:"multipleValuesInArray"}]},y={input:r.inputRenderingTypes,input_date:r.inputDateRenderingTypes,radio:r.inputRenderingTypes,toggle:r.inputRenderingTypes,checkbox:r.checkboxRenderingTypes,select:r.inputRenderingTypes},b={input:[{label:"\u76F8\u7B49",value:"equalTo"}],input_date:[{label:"\u76F8\u7B49",value:"equalTo"},{label:"\u5927\u65BC\u7B49\u65BC",value:"greaterThanOrEqualTo"},{label:"\u5C0F\u65BC\u7B49\u65BC",value:"lessThanOrEqual"}],radio:[{label:"\u76F8\u7B49",value:"equalTo"}],toggle:[{label:"\u76F8\u7B49",value:"equalTo"}],select:[{label:"\u76F8\u7B49",value:"equalTo"}]};function c({cr_trigger:e,newValue:n}){return e===n}function m({newValue:e}){return!!e}function p({cr_trigger:e,newValue:n}){const t=Number(e);return Number(n)>=t}function T({cr_trigger:e,newValue:n}){const t=Number(e);return Number(n)<=t}function f({cr_trigger:e={},newValue:n}){if(typeof e!="object"||!e.min||!e.max)return!1;const t=Number(e.min),a=Number(e.max);return n>=t&&n<=a}const s={pureValue:({cr_trigger:e,cr_operation:n,newValue:t})=>{switch(n){case"equalTo":return c({cr_trigger:e,newValue:t});case"anyInput":return m({newValue:t});case"greaterThanOrEqualTo":return p({cr_trigger:e,newValue:t});case"lessThanOrEqual":return T({cr_trigger:e,newValue:t});case"withinTheRange":return f({cr_trigger:e,newValue:t})}},multipleValuesInArray:({cr_trigger:e,newValue:n})=>!Array.isArray(e)||!Array.isArray(n)||!e.length||!n.length?!1:e.every(t=>n.includes(t)),age:({cr_trigger:e,cr_operation:n,newValue:t})=>{if(!o.checkDate(t))return!1;const a=o.calculateAgeNow(t);switch(n){case"equalTo":return c({cr_trigger:e,newValue:a});case"greaterThanOrEqualTo":return p({cr_trigger:e,newValue:a});case"lessThanOrEqual":return T({cr_trigger:e,newValue:a})}}};function h({objectInCrList:e,newValue:n}){var t;return(t=s[e.cr_type])==null?void 0:t.call(s,{cr_trigger:e.cr_trigger,cr_operation:e.cr_operation,newValue:n})}function q({CRList:e,renderObject:n,emits:t,newValue:a}){for(const l in e){const u=e[l],d=Number(n.index)+1,g=Number(u.index),i=h({objectInCrList:u,newValue:a});t("updateCrObjectToRenderList",{execute:i,targetIndex:i?d:g,objectInCrList:u})}}export{b as c,y as f,q as u};
