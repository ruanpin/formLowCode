import{a as ae,c as m,h as p,m as J,u as Ze,o as Ue,g as W,p as ze,q as oe,n as Y,v as Ge,s as fe,r as P,x as We,y as xe,T as Ye,j as Je,l as Xe,f as et,z as Ce,w as L,A as pe,B as tt,C as nt,D as ge,E as lt,F as at,G as ot,H as it,I as rt,J as ut,K as ie,L as Me,Q as st,M as dt,O as _e}from"./index.3e9da833.js";import{u as Le,a as je,b as ct,c as ft,d as vt,e as mt,f as gt,g as ht}from"./use-timeout.87b88655.js";var an=ae({name:"QCardSection",props:{tag:{type:String,default:"div"},horizontal:Boolean},setup(e,{slots:t}){const n=m(()=>`q-card__section q-card__section--${e.horizontal===!0?"horiz row no-wrap":"vert"}`);return()=>p(e.tag,{class:n.value},J(t.default))}}),on=ae({name:"QCardActions",props:{...Ze,vertical:Boolean},setup(e,{slots:t}){const n=Ue(e),o=m(()=>`q-card__actions ${n.value} q-card__actions--${e.vertical===!0?"vert column":"horiz row"}`);return()=>p("div",{class:o.value},J(t.default))}}),rn=ae({name:"QCard",props:{...Le,tag:{type:String,default:"div"},square:Boolean,flat:Boolean,bordered:Boolean},setup(e,{slots:t}){const{proxy:{$q:n}}=W(),o=je(e,n),s=m(()=>"q-card"+(o.value===!0?" q-card--dark q-dark":"")+(e.bordered===!0?" q-card--bordered":"")+(e.square===!0?" q-card--square no-border-radius":"")+(e.flat===!0?" q-card--flat no-shadow":""));return()=>p(e.tag,{class:s.value},J(t.default))}});function bt(){let e;const t=W();function n(){e=void 0}return ze(n),oe(n),{removeTick:n,registerTick(o){e=o,Y(()=>{e===o&&(Ge(t)===!1&&e(),e=void 0)})}}}const yt={transitionShow:{type:String,default:"fade"},transitionHide:{type:String,default:"fade"},transitionDuration:{type:[String,Number],default:300}};function pt(e,t=()=>{},n=()=>{}){return{transitionProps:m(()=>{const o=`q-transition--${e.transitionShow||t()}`,s=`q-transition--${e.transitionHide||n()}`;return{appear:!0,enterFromClass:`${o}-enter-from`,enterActiveClass:`${o}-enter-active`,enterToClass:`${o}-enter-to`,leaveFromClass:`${s}-leave-from`,leaveActiveClass:`${s}-leave-active`,leaveToClass:`${s}-leave-to`}}),transitionStyle:m(()=>`--q-transition-duration: ${e.transitionDuration}ms`)}}let X=[],re=[];function Ke(e){re=re.filter(t=>t!==e)}function kt(e){Ke(e),re.push(e)}function Fe(e){Ke(e),re.length===0&&X.length!==0&&(X[X.length-1](),X=[])}function Se(e){re.length===0?e():X.push(e)}function wt(e){X=X.filter(t=>t!==e)}const ve=[];function un(e){return ve.find(t=>t.contentEl!==null&&t.contentEl.contains(e))}function xt(e,t){do{if(e.$options.name==="QMenu"){if(e.hide(t),e.$props.separateClosePopup===!0)return fe(e)}else if(e.__qPortal===!0){const n=fe(e);return n!==void 0&&n.$options.name==="QPopupProxy"?(e.hide(t),n):e}e=fe(e)}while(e!=null)}function sn(e,t,n){for(;n!==0&&e!==void 0&&e!==null;){if(e.__qPortal===!0){if(n--,e.$options.name==="QMenu"){e=xt(e,t);continue}e.hide(t)}e=fe(e)}}const Ct=ae({name:"QPortal",setup(e,{slots:t}){return()=>t.default()}});function St(e){for(e=e.parent;e!=null;){if(e.type.name==="QGlobalDialog")return!0;if(e.type.name==="QDialog"||e.type.name==="QMenu")return!1;e=e.parent}return!1}function qt(e,t,n,o){const s=P(!1),d=P(!1);let f=null;const k={},M=o==="dialog"&&St(e);function C(g){if(g===!0){Fe(k),d.value=!0;return}d.value=!1,s.value===!1&&(M===!1&&f===null&&(f=Je(!1,o)),s.value=!0,ve.push(e.proxy),kt(k))}function S(g){if(d.value=!1,g!==!0)return;Fe(k),s.value=!1;const N=ve.indexOf(e.proxy);N!==-1&&ve.splice(N,1),f!==null&&(Xe(f),f=null)}return We(()=>{S(!0)}),e.proxy.__qPortal=!0,xe(e.proxy,"contentEl",()=>t.value),{showPortal:C,hidePortal:S,portalIsActive:s,portalIsAccessible:d,renderPortal:()=>M===!0?n():s.value===!0?[p(Ye,{to:f},p(Ct,n))]:void 0}}const ee=[];let le;function Mt(e){le=e.keyCode===27}function _t(){le===!0&&(le=!1)}function Ft(e){le===!0&&(le=!1,et(e,27)===!0&&ee[ee.length-1](e))}function He(e){window[e]("keydown",Mt),window[e]("blur",_t),window[e]("keyup",Ft),le=!1}function Rt(e){Ce.is.desktop===!0&&(ee.push(e),ee.length===1&&He("addEventListener"))}function Re(e){const t=ee.indexOf(e);t!==-1&&(ee.splice(t,1),ee.length===0&&He("removeEventListener"))}const te=[];function Qe(e){te[te.length-1](e)}function Et(e){Ce.is.desktop===!0&&(te.push(e),te.length===1&&document.body.addEventListener("focusin",Qe))}function Ee(e){const t=te.indexOf(e);t!==-1&&(te.splice(t,1),te.length===0&&document.body.removeEventListener("focusin",Qe))}let ue=0;const At={standard:"fixed-full flex-center",top:"fixed-top justify-center",bottom:"fixed-bottom justify-center",right:"fixed-right items-center",left:"fixed-left items-center"},Ae={standard:["scale","scale"],top:["slide-down","slide-up"],bottom:["slide-up","slide-down"],right:["slide-left","slide-right"],left:["slide-right","slide-left"]};var dn=ae({name:"QDialog",inheritAttrs:!1,props:{...ct,...yt,transitionShow:String,transitionHide:String,persistent:Boolean,autoClose:Boolean,allowFocusOutside:Boolean,noEscDismiss:Boolean,noBackdropDismiss:Boolean,noRouteDismiss:Boolean,noRefocus:Boolean,noFocus:Boolean,noShake:Boolean,seamless:Boolean,maximized:Boolean,fullWidth:Boolean,fullHeight:Boolean,square:Boolean,backdropFilter:String,position:{type:String,default:"standard",validator:e=>["standard","top","bottom","left","right"].includes(e)}},emits:[...ft,"shake","click","escapeKey"],setup(e,{slots:t,emit:n,attrs:o}){const s=W(),d=P(null),f=P(!1),k=P(!1);let M=null,C=null,S,g;const N=m(()=>e.persistent!==!0&&e.noRouteDismiss!==!0&&e.seamless!==!0),{preventBodyScroll:T}=ht(),{registerTimeout:I}=vt(),{registerTick:K,removeTick:D}=bt(),{transitionProps:Q,transitionStyle:B}=pt(e,()=>Ae[e.position][0],()=>Ae[e.position][1]),G=m(()=>B.value+(e.backdropFilter!==void 0?`;backdrop-filter:${e.backdropFilter};-webkit-backdrop-filter:${e.backdropFilter}`:"")),{showPortal:H,hidePortal:j,portalIsAccessible:F,renderPortal:_}=qt(s,d,U,"dialog"),{hide:V}=mt({showing:f,hideOnRouteChange:N,handleShow:E,handleHide:y,processOnMount:!0}),{addToHistory:r,removeFromHistory:i}=gt(f,V,N),c=m(()=>`q-dialog__inner flex no-pointer-events q-dialog__inner--${e.maximized===!0?"maximized":"minimized"} q-dialog__inner--${e.position} ${At[e.position]}`+(k.value===!0?" q-dialog__inner--animating":"")+(e.fullWidth===!0?" q-dialog__inner--fullwidth":"")+(e.fullHeight===!0?" q-dialog__inner--fullheight":"")+(e.square===!0?" q-dialog__inner--square":"")),a=m(()=>f.value===!0&&e.seamless!==!0),w=m(()=>e.autoClose===!0?{onClick:l}:{}),b=m(()=>[`q-dialog fullscreen no-pointer-events q-dialog--${a.value===!0?"modal":"seamless"}`,o.class]);L(()=>e.maximized,v=>{f.value===!0&&R(v)}),L(a,v=>{T(v),v===!0?(Et(Z),Rt(h)):(Ee(Z),Re(h))});function E(v){r(),C=e.noRefocus===!1&&document.activeElement!==null?document.activeElement:null,R(e.maximized),H(),k.value=!0,e.noFocus!==!0?(document.activeElement!==null&&document.activeElement.blur(),K(x)):D(),I(()=>{if(s.proxy.$q.platform.is.ios===!0){if(e.seamless!==!0&&document.activeElement){const{top:$,bottom:ne}=document.activeElement.getBoundingClientRect(),{innerHeight:qe}=window,he=window.visualViewport!==void 0?window.visualViewport.height:qe;$>0&&ne>he/2&&(document.scrollingElement.scrollTop=Math.min(document.scrollingElement.scrollHeight-he,ne>=qe?1/0:Math.ceil(document.scrollingElement.scrollTop+ne-he/2))),document.activeElement.scrollIntoView()}g=!0,d.value.click(),g=!1}H(!0),k.value=!1,n("show",v)},e.transitionDuration)}function y(v){D(),i(),q(!0),k.value=!0,j(),C!==null&&(((v&&v.type.indexOf("key")===0?C.closest('[tabindex]:not([tabindex^="-"])'):void 0)||C).focus(),C=null),I(()=>{j(!0),k.value=!1,n("hide",v)},e.transitionDuration)}function x(v){Se(()=>{let $=d.value;if($!==null){if(v!==void 0){const ne=$.querySelector(v);if(ne!==null){ne.focus({preventScroll:!0});return}}$.contains(document.activeElement)!==!0&&($=$.querySelector("[autofocus][tabindex], [data-autofocus][tabindex]")||$.querySelector("[autofocus] [tabindex], [data-autofocus] [tabindex]")||$.querySelector("[autofocus], [data-autofocus]")||$,$.focus({preventScroll:!0}))}})}function u(v){v&&typeof v.focus=="function"?v.focus({preventScroll:!0}):x(),n("shake");const $=d.value;$!==null&&($.classList.remove("q-animate--scale"),$.classList.add("q-animate--scale"),M!==null&&clearTimeout(M),M=setTimeout(()=>{M=null,d.value!==null&&($.classList.remove("q-animate--scale"),x())},170))}function h(){e.seamless!==!0&&(e.persistent===!0||e.noEscDismiss===!0?e.maximized!==!0&&e.noShake!==!0&&u():(n("escapeKey"),V()))}function q(v){M!==null&&(clearTimeout(M),M=null),(v===!0||f.value===!0)&&(R(!1),e.seamless!==!0&&(T(!1),Ee(Z),Re(h))),v!==!0&&(C=null)}function R(v){v===!0?S!==!0&&(ue<1&&document.body.classList.add("q-body--dialog"),ue++,S=!0):S===!0&&(ue<2&&document.body.classList.remove("q-body--dialog"),ue--,S=!1)}function l(v){g!==!0&&(V(v),n("click",v))}function A(v){e.persistent!==!0&&e.noBackdropDismiss!==!0?V(v):e.noShake!==!0&&u()}function Z(v){e.allowFocusOutside!==!0&&F.value===!0&&tt(d.value,v.target)!==!0&&x('[tabindex]:not([tabindex="-1"])')}Object.assign(s.proxy,{focus:x,shake:u,__updateRefocusTarget(v){C=v||null}}),oe(q);function U(){return p("div",{role:"dialog","aria-modal":a.value===!0?"true":"false",...o,class:b.value},[p(pe,{name:"q-transition--fade",appear:!0},()=>a.value===!0?p("div",{class:"q-dialog__backdrop fixed-full",style:G.value,"aria-hidden":"true",tabindex:-1,onClick:A}):null),p(pe,Q.value,()=>f.value===!0?p("div",{ref:d,class:c.value,style:B.value,tabindex:-1,...w.value},J(t.default)):null)])}return _}});let be,se=0;const z=new Array(256);for(let e=0;e<256;e++)z[e]=(e+256).toString(16).substring(1);const Bt=(()=>{const e=typeof crypto!="undefined"?crypto:typeof window!="undefined"?window.crypto||window.msCrypto:void 0;if(e!==void 0){if(e.randomBytes!==void 0)return e.randomBytes;if(e.getRandomValues!==void 0)return t=>{const n=new Uint8Array(t);return e.getRandomValues(n),n}}return t=>{const n=[];for(let o=t;o>0;o--)n.push(Math.floor(Math.random()*256));return n}})(),Be=4096;function ke(){(be===void 0||se+16>Be)&&(se=0,be=Bt(Be));const e=Array.prototype.slice.call(be,se,se+=16);return e[6]=e[6]&15|64,e[8]=e[8]&63|128,z[e[0]]+z[e[1]]+z[e[2]]+z[e[3]]+"-"+z[e[4]]+z[e[5]]+"-"+z[e[6]]+z[e[7]]+"-"+z[e[8]]+z[e[9]]+"-"+z[e[10]]+z[e[11]]+z[e[12]]+z[e[13]]+z[e[14]]+z[e[15]]}function Vt(e){return e==null?null:e}function Ve(e,t){return e==null?t===!0?`f_${ke()}`:null:e}function $t({getValue:e,required:t=!0}={}){if(nt.value===!0){const n=e!==void 0?P(Vt(e())):P(null);return t===!0&&n.value===null&&ge(()=>{n.value=`f_${ke()}`}),e!==void 0&&L(e,o=>{n.value=Ve(o,t)}),n}return e!==void 0?m(()=>Ve(e(),t)):P(`f_${ke()}`)}const $e=/^on[A-Z]/;function Pt(){const{attrs:e,vnode:t}=W(),n={listeners:P({}),attributes:P({})};function o(){const s={},d={};for(const f in e)f!=="class"&&f!=="style"&&$e.test(f)===!1&&(s[f]=e[f]);for(const f in t.props)$e.test(f)===!0&&(d[f]=t.props[f]);n.attributes.value=s,n.listeners.value=d}return lt(o),o(),n}function Tt({validate:e,resetValidation:t,requiresQForm:n}){const o=at(ot,!1);if(o!==!1){const{props:s,proxy:d}=W();Object.assign(d,{validate:e,resetValidation:t}),L(()=>s.disable,f=>{f===!0?(typeof t=="function"&&t(),o.unbindComponent(d)):o.bindComponent(d)}),ge(()=>{s.disable!==!0&&o.bindComponent(d)}),oe(()=>{s.disable!==!0&&o.unbindComponent(d)})}else n===!0&&console.error("Parent QForm not found on useFormChild()!")}const Pe=/^#[0-9a-fA-F]{3}([0-9a-fA-F]{3})?$/,Te=/^#[0-9a-fA-F]{4}([0-9a-fA-F]{4})?$/,Oe=/^#([0-9a-fA-F]{3}|[0-9a-fA-F]{4}|[0-9a-fA-F]{6}|[0-9a-fA-F]{8})$/,de=/^rgb\(((0|[1-9][\d]?|1[\d]{0,2}|2[\d]?|2[0-4][\d]|25[0-5]),){2}(0|[1-9][\d]?|1[\d]{0,2}|2[\d]?|2[0-4][\d]|25[0-5])\)$/,ce=/^rgba\(((0|[1-9][\d]?|1[\d]{0,2}|2[\d]?|2[0-4][\d]|25[0-5]),){2}(0|[1-9][\d]?|1[\d]{0,2}|2[\d]?|2[0-4][\d]|25[0-5]),(0|0\.[0-9]+[1-9]|0\.[1-9]+|1)\)$/,ye={date:e=>/^-?[\d]+\/[0-1]\d\/[0-3]\d$/.test(e),time:e=>/^([0-1]?\d|2[0-3]):[0-5]\d$/.test(e),fulltime:e=>/^([0-1]?\d|2[0-3]):[0-5]\d:[0-5]\d$/.test(e),timeOrFulltime:e=>/^([0-1]?\d|2[0-3]):[0-5]\d(:[0-5]\d)?$/.test(e),email:e=>/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(e),hexColor:e=>Pe.test(e),hexaColor:e=>Te.test(e),hexOrHexaColor:e=>Oe.test(e),rgbColor:e=>de.test(e),rgbaColor:e=>ce.test(e),rgbOrRgbaColor:e=>de.test(e)||ce.test(e),hexOrRgbColor:e=>Pe.test(e)||de.test(e),hexaOrRgbaColor:e=>Te.test(e)||ce.test(e),anyColor:e=>Oe.test(e)||de.test(e)||ce.test(e)},Ot=[!0,!1,"ondemand"],Dt={modelValue:{},error:{type:Boolean,default:null},errorMessage:String,noErrorIcon:Boolean,rules:Array,reactiveRules:Boolean,lazyRules:{type:[Boolean,String],default:!1,validator:e=>Ot.includes(e)}};function It(e,t){const{props:n,proxy:o}=W(),s=P(!1),d=P(null),f=P(!1);Tt({validate:K,resetValidation:I});let k=0,M;const C=m(()=>n.rules!==void 0&&n.rules!==null&&n.rules.length!==0),S=m(()=>n.disable!==!0&&C.value===!0&&t.value===!1),g=m(()=>n.error===!0||s.value===!0),N=m(()=>typeof n.errorMessage=="string"&&n.errorMessage.length!==0?n.errorMessage:d.value);L(()=>n.modelValue,()=>{f.value=!0,S.value===!0&&n.lazyRules===!1&&D()});function T(){n.lazyRules!=="ondemand"&&S.value===!0&&f.value===!0&&D()}L(()=>n.reactiveRules,Q=>{Q===!0?M===void 0&&(M=L(()=>n.rules,T,{immediate:!0,deep:!0})):M!==void 0&&(M(),M=void 0)},{immediate:!0}),L(()=>n.lazyRules,T),L(e,Q=>{Q===!0?f.value=!0:S.value===!0&&n.lazyRules!=="ondemand"&&D()});function I(){k++,t.value=!1,f.value=!1,s.value=!1,d.value=null,D.cancel()}function K(Q=n.modelValue){if(n.disable===!0||C.value===!1)return!0;const B=++k,G=t.value!==!0?()=>{f.value=!0}:()=>{},H=(F,_)=>{F===!0&&G(),s.value=F,d.value=_||null,t.value=!1},j=[];for(let F=0;F<n.rules.length;F++){const _=n.rules[F];let V;if(typeof _=="function"?V=_(Q,ye):typeof _=="string"&&ye[_]!==void 0&&(V=ye[_](Q)),V===!1||typeof V=="string")return H(!0,V),!1;V!==!0&&V!==void 0&&j.push(V)}return j.length===0?(H(!1),!0):(t.value=!0,Promise.all(j).then(F=>{if(F===void 0||Array.isArray(F)===!1||F.length===0)return B===k&&H(!1),!0;const _=F.find(V=>V===!1||typeof V=="string");return B===k&&H(_!==void 0,_),_===void 0},F=>(B===k&&(console.error(F),H(!0)),!1)))}const D=it(K,0);return oe(()=>{M!==void 0&&M(),D.cancel()}),Object.assign(o,{resetValidation:I,validate:K}),xe(o,"hasError",()=>g.value),{isDirtyModel:f,hasRules:C,hasError:g,errorMessage:N,validate:K,resetValidation:I}}function we(e){return e!=null&&(""+e).length!==0}const zt={...Le,...Dt,label:String,stackLabel:Boolean,hint:String,hideHint:Boolean,prefix:String,suffix:String,labelColor:String,color:String,bgColor:String,filled:Boolean,outlined:Boolean,borderless:Boolean,standout:[Boolean,String],square:Boolean,loading:Boolean,labelSlot:Boolean,bottomSlots:Boolean,hideBottomSpace:Boolean,rounded:Boolean,dense:Boolean,itemAligned:Boolean,counter:Boolean,clearable:Boolean,clearIcon:String,disable:Boolean,readonly:Boolean,autofocus:Boolean,for:String},Lt={...zt,maxlength:[Number,String]},jt=["update:modelValue","clear","focus","blur"];function Kt({requiredForAttr:e=!0,tagProp:t,changeEvent:n=!1}={}){const{props:o,proxy:s}=W(),d=je(o,s.$q),f=$t({required:e,getValue:()=>o.for});return{requiredForAttr:e,changeEvent:n,tag:t===!0?m(()=>o.tag):{value:"label"},isDark:d,editable:m(()=>o.disable!==!0&&o.readonly!==!0),innerLoading:P(!1),focused:P(!1),hasPopupOpen:!1,splitAttrs:Pt(),targetUid:f,rootRef:P(null),targetRef:P(null),controlRef:P(null)}}function Ht(e){const{props:t,emit:n,slots:o,attrs:s,proxy:d}=W(),{$q:f}=d;let k=null;e.hasValue===void 0&&(e.hasValue=m(()=>we(t.modelValue))),e.emitValue===void 0&&(e.emitValue=u=>{n("update:modelValue",u)}),e.controlEvents===void 0&&(e.controlEvents={onFocusin:r,onFocusout:i}),Object.assign(e,{clearValue:c,onControlFocusin:r,onControlFocusout:i,focus:_}),e.computedCounter===void 0&&(e.computedCounter=m(()=>{if(t.counter!==!1){const u=typeof t.modelValue=="string"||typeof t.modelValue=="number"?(""+t.modelValue).length:Array.isArray(t.modelValue)===!0?t.modelValue.length:0,h=t.maxlength!==void 0?t.maxlength:t.maxValues;return u+(h!==void 0?" / "+h:"")}}));const{isDirtyModel:M,hasRules:C,hasError:S,errorMessage:g,resetValidation:N}=It(e.focused,e.innerLoading),T=e.floatingLabel!==void 0?m(()=>t.stackLabel===!0||e.focused.value===!0||e.floatingLabel.value===!0):m(()=>t.stackLabel===!0||e.focused.value===!0||e.hasValue.value===!0),I=m(()=>t.bottomSlots===!0||t.hint!==void 0||C.value===!0||t.counter===!0||t.error!==null),K=m(()=>t.filled===!0?"filled":t.outlined===!0?"outlined":t.borderless===!0?"borderless":t.standout?"standout":"standard"),D=m(()=>`q-field row no-wrap items-start q-field--${K.value}`+(e.fieldClass!==void 0?` ${e.fieldClass.value}`:"")+(t.rounded===!0?" q-field--rounded":"")+(t.square===!0?" q-field--square":"")+(T.value===!0?" q-field--float":"")+(B.value===!0?" q-field--labeled":"")+(t.dense===!0?" q-field--dense":"")+(t.itemAligned===!0?" q-field--item-aligned q-item-type":"")+(e.isDark.value===!0?" q-field--dark":"")+(e.getControl===void 0?" q-field--auto-height":"")+(e.focused.value===!0?" q-field--focused":"")+(S.value===!0?" q-field--error":"")+(S.value===!0||e.focused.value===!0?" q-field--highlighted":"")+(t.hideBottomSpace!==!0&&I.value===!0?" q-field--with-bottom":"")+(t.disable===!0?" q-field--disabled":t.readonly===!0?" q-field--readonly":"")),Q=m(()=>"q-field__control relative-position row no-wrap"+(t.bgColor!==void 0?` bg-${t.bgColor}`:"")+(S.value===!0?" text-negative":typeof t.standout=="string"&&t.standout.length!==0&&e.focused.value===!0?` ${t.standout}`:t.color!==void 0?` text-${t.color}`:"")),B=m(()=>t.labelSlot===!0||t.label!==void 0),G=m(()=>"q-field__label no-pointer-events absolute ellipsis"+(t.labelColor!==void 0&&S.value!==!0?` text-${t.labelColor}`:"")),H=m(()=>({id:e.targetUid.value,editable:e.editable.value,focused:e.focused.value,floatingLabel:T.value,modelValue:t.modelValue,emitValue:e.emitValue})),j=m(()=>{const u={};return e.targetUid.value&&(u.for=e.targetUid.value),t.disable===!0&&(u["aria-disabled"]="true"),u});function F(){const u=document.activeElement;let h=e.targetRef!==void 0&&e.targetRef.value;h&&(u===null||u.id!==e.targetUid.value)&&(h.hasAttribute("tabindex")===!0||(h=h.querySelector("[tabindex]")),h&&h!==u&&h.focus({preventScroll:!0}))}function _(){Se(F)}function V(){wt(F);const u=document.activeElement;u!==null&&e.rootRef.value.contains(u)&&u.blur()}function r(u){k!==null&&(clearTimeout(k),k=null),e.editable.value===!0&&e.focused.value===!1&&(e.focused.value=!0,n("focus",u))}function i(u,h){k!==null&&clearTimeout(k),k=setTimeout(()=>{k=null,!(document.hasFocus()===!0&&(e.hasPopupOpen===!0||e.controlRef===void 0||e.controlRef.value===null||e.controlRef.value.contains(document.activeElement)!==!1))&&(e.focused.value===!0&&(e.focused.value=!1,n("blur",u)),h!==void 0&&h())})}function c(u){rt(u),f.platform.is.mobile!==!0?(e.targetRef!==void 0&&e.targetRef.value||e.rootRef.value).focus():e.rootRef.value.contains(document.activeElement)===!0&&document.activeElement.blur(),t.type==="file"&&(e.inputRef.value.value=null),n("update:modelValue",null),e.changeEvent===!0&&n("change",null),n("clear",t.modelValue),Y(()=>{const h=M.value;N(),M.value=h})}function a(u){[13,32].includes(u.keyCode)&&c(u)}function w(){const u=[];return o.prepend!==void 0&&u.push(p("div",{class:"q-field__prepend q-field__marginal row no-wrap items-center",key:"prepend",onClick:ie},o.prepend())),u.push(p("div",{class:"q-field__control-container col relative-position row no-wrap q-anchor--skip"},b())),S.value===!0&&t.noErrorIcon===!1&&u.push(y("error",[p(Me,{name:f.iconSet.field.error,color:"negative"})])),t.loading===!0||e.innerLoading.value===!0?u.push(y("inner-loading-append",o.loading!==void 0?o.loading():[p(st,{color:t.color})])):t.clearable===!0&&e.hasValue.value===!0&&e.editable.value===!0&&u.push(y("inner-clearable-append",[p(Me,{class:"q-field__focusable-action",name:t.clearIcon||f.iconSet.field.clear,tabindex:0,role:"button","aria-hidden":"false","aria-label":f.lang.label.clear,onKeyup:a,onClick:c})])),o.append!==void 0&&u.push(p("div",{class:"q-field__append q-field__marginal row no-wrap items-center",key:"append",onClick:ie},o.append())),e.getInnerAppend!==void 0&&u.push(y("inner-append",e.getInnerAppend())),e.getControlChild!==void 0&&u.push(e.getControlChild()),u}function b(){const u=[];return t.prefix!==void 0&&t.prefix!==null&&u.push(p("div",{class:"q-field__prefix no-pointer-events row items-center"},t.prefix)),e.getShadowControl!==void 0&&e.hasShadow.value===!0&&u.push(e.getShadowControl()),e.getControl!==void 0?u.push(e.getControl()):o.rawControl!==void 0?u.push(o.rawControl()):o.control!==void 0&&u.push(p("div",{ref:e.targetRef,class:"q-field__native row",tabindex:-1,...e.splitAttrs.attributes.value,"data-autofocus":t.autofocus===!0||void 0},o.control(H.value))),B.value===!0&&u.push(p("div",{class:G.value},J(o.label,t.label))),t.suffix!==void 0&&t.suffix!==null&&u.push(p("div",{class:"q-field__suffix no-pointer-events row items-center"},t.suffix)),u.concat(J(o.default))}function E(){let u,h;S.value===!0?g.value!==null?(u=[p("div",{role:"alert"},g.value)],h=`q--slot-error-${g.value}`):(u=J(o.error),h="q--slot-error"):(t.hideHint!==!0||e.focused.value===!0)&&(t.hint!==void 0?(u=[p("div",t.hint)],h=`q--slot-hint-${t.hint}`):(u=J(o.hint),h="q--slot-hint"));const q=t.counter===!0||o.counter!==void 0;if(t.hideBottomSpace===!0&&q===!1&&u===void 0)return;const R=p("div",{key:h,class:"q-field__messages col"},u);return p("div",{class:"q-field__bottom row items-start q-field__bottom--"+(t.hideBottomSpace!==!0?"animated":"stale"),onClick:ie},[t.hideBottomSpace===!0?R:p(pe,{name:"q-transition--field-message"},()=>R),q===!0?p("div",{class:"q-field__counter"},o.counter!==void 0?o.counter():e.computedCounter.value):null])}function y(u,h){return h===null?null:p("div",{key:u,class:"q-field__append q-field__marginal row no-wrap items-center q-anchor--skip"},h)}let x=!1;return ze(()=>{x=!0}),ut(()=>{x===!0&&t.autofocus===!0&&d.focus()}),t.autofocus===!0&&ge(()=>{d.focus()}),oe(()=>{k!==null&&clearTimeout(k)}),Object.assign(d,{focus:_,blur:V}),function(){const h=e.getControl===void 0&&o.control===void 0?{...e.splitAttrs.attributes.value,"data-autofocus":t.autofocus===!0||void 0,...j.value}:j.value;return p(e.tag.value,{ref:e.rootRef,class:[D.value,s.class],style:s.style,...h},[o.before!==void 0?p("div",{class:"q-field__before q-field__marginal row no-wrap items-center",onClick:ie},o.before()):null,p("div",{class:"q-field__inner relative-position col self-stretch"},[p("div",{ref:e.controlRef,class:Q.value,tabindex:-1,...e.controlEvents},w()),I.value===!0?E():null]),o.after!==void 0?p("div",{class:"q-field__after q-field__marginal row no-wrap items-center",onClick:ie},o.after()):null])}}const Qt={name:String};function cn(e){return m(()=>({type:"hidden",name:e.name,value:e.modelValue}))}function fn(e={}){return(t,n,o)=>{t[n](p("input",{class:"hidden"+(o||""),...e.value}))}}function Nt(e){return m(()=>e.name||e.for)}const Zt=/[\u3000-\u303f\u3040-\u309f\u30a0-\u30ff\uff00-\uff9f\u4e00-\u9faf\u3400-\u4dbf]/,Ut=/[\u4e00-\u9fff\u3400-\u4dbf\u{20000}-\u{2a6df}\u{2a700}-\u{2b73f}\u{2b740}-\u{2b81f}\u{2b820}-\u{2ceaf}\uf900-\ufaff\u3300-\u33ff\ufe30-\ufe4f\uf900-\ufaff\u{2f800}-\u{2fa1f}]/u,Gt=/[\u3131-\u314e\u314f-\u3163\uac00-\ud7a3]/,Wt=/[a-z0-9_ -]$/i;function Yt(e){return function(n){if(n.type==="compositionend"||n.type==="change"){if(n.target.qComposing!==!0)return;n.target.qComposing=!1,e(n)}else n.type==="compositionupdate"&&n.target.qComposing!==!0&&typeof n.data=="string"&&(Ce.is.firefox===!0?Wt.test(n.data)===!1:Zt.test(n.data)===!0||Ut.test(n.data)===!0||Gt.test(n.data)===!0)===!0&&(n.target.qComposing=!0)}}const De={date:"####/##/##",datetime:"####/##/## ##:##",time:"##:##",fulltime:"##:##:##",phone:"(###) ### - ####",card:"#### #### #### ####"},me={"#":{pattern:"[\\d]",negate:"[^\\d]"},S:{pattern:"[a-zA-Z]",negate:"[^a-zA-Z]"},N:{pattern:"[0-9a-zA-Z]",negate:"[^0-9a-zA-Z]"},A:{pattern:"[a-zA-Z]",negate:"[^a-zA-Z]",transform:e=>e.toLocaleUpperCase()},a:{pattern:"[a-zA-Z]",negate:"[^a-zA-Z]",transform:e=>e.toLocaleLowerCase()},X:{pattern:"[0-9a-zA-Z]",negate:"[^0-9a-zA-Z]",transform:e=>e.toLocaleUpperCase()},x:{pattern:"[0-9a-zA-Z]",negate:"[^0-9a-zA-Z]",transform:e=>e.toLocaleLowerCase()}},Ne=Object.keys(me);Ne.forEach(e=>{me[e].regex=new RegExp(me[e].pattern)});const Jt=new RegExp("\\\\([^.*+?^${}()|([\\]])|([.*+?^${}()|[\\]])|(["+Ne.join("")+"])|(.)","g"),Ie=/[.*+?^${}()|[\]\\]/g,O=String.fromCharCode(1),Xt={mask:String,reverseFillMask:Boolean,fillMask:[Boolean,String],unmaskedValue:Boolean};function en(e,t,n,o){let s,d,f,k,M,C;const S=P(null),g=P(T());function N(){return e.autogrow===!0||["textarea","text","search","url","tel","password"].includes(e.type)}L(()=>e.type+e.autogrow,K),L(()=>e.mask,r=>{if(r!==void 0)D(g.value,!0);else{const i=_(g.value);K(),e.modelValue!==i&&t("update:modelValue",i)}}),L(()=>e.fillMask+e.reverseFillMask,()=>{S.value===!0&&D(g.value,!0)}),L(()=>e.unmaskedValue,()=>{S.value===!0&&D(g.value)});function T(){if(K(),S.value===!0){const r=j(_(e.modelValue));return e.fillMask!==!1?V(r):r}return e.modelValue}function I(r){if(r<s.length)return s.slice(-r);let i="",c=s;const a=c.indexOf(O);if(a!==-1){for(let w=r-c.length;w>0;w--)i+=O;c=c.slice(0,a)+i+c.slice(a)}return c}function K(){if(S.value=e.mask!==void 0&&e.mask.length!==0&&N(),S.value===!1){k=void 0,s="",d="";return}const r=De[e.mask]===void 0?e.mask:De[e.mask],i=typeof e.fillMask=="string"&&e.fillMask.length!==0?e.fillMask.slice(0,1):"_",c=i.replace(Ie,"\\$&"),a=[],w=[],b=[];let E=e.reverseFillMask===!0,y="",x="";r.replace(Jt,(R,l,A,Z,U)=>{if(Z!==void 0){const v=me[Z];b.push(v),x=v.negate,E===!0&&(w.push("(?:"+x+"+)?("+v.pattern+"+)?(?:"+x+"+)?("+v.pattern+"+)?"),E=!1),w.push("(?:"+x+"+)?("+v.pattern+")?")}else if(A!==void 0)y="\\"+(A==="\\"?"":A),b.push(A),a.push("([^"+y+"]+)?"+y+"?");else{const v=l!==void 0?l:U;y=v==="\\"?"\\\\\\\\":v.replace(Ie,"\\\\$&"),b.push(v),a.push("([^"+y+"]+)?"+y+"?")}});const u=new RegExp("^"+a.join("")+"("+(y===""?".":"[^"+y+"]")+"+)?"+(y===""?"":"["+y+"]*")+"$"),h=w.length-1,q=w.map((R,l)=>l===0&&e.reverseFillMask===!0?new RegExp("^"+c+"*"+R):l===h?new RegExp("^"+R+"("+(x===""?".":x)+"+)?"+(e.reverseFillMask===!0?"$":c+"*")):new RegExp("^"+R));f=b,k=R=>{const l=u.exec(e.reverseFillMask===!0?R:R.slice(0,b.length+1));l!==null&&(R=l.slice(1).join(""));const A=[],Z=q.length;for(let U=0,v=R;U<Z;U++){const $=q[U].exec(v);if($===null)break;v=v.slice($.shift().length),A.push(...$)}return A.length!==0?A.join(""):R},s=b.map(R=>typeof R=="string"?R:O).join(""),d=s.split(O).join(i)}function D(r,i,c){const a=o.value,w=a.selectionEnd,b=a.value.length-w,E=_(r);i===!0&&K();const y=j(E),x=e.fillMask!==!1?V(y):y,u=g.value!==x;a.value!==x&&(a.value=x),u===!0&&(g.value=x),document.activeElement===a&&Y(()=>{if(x===d){const q=e.reverseFillMask===!0?d.length:0;a.setSelectionRange(q,q,"forward");return}if(c==="insertFromPaste"&&e.reverseFillMask!==!0){const q=a.selectionEnd;let R=w-1;for(let l=M;l<=R&&l<q;l++)s[l]!==O&&R++;B.right(a,R);return}if(["deleteContentBackward","deleteContentForward"].indexOf(c)!==-1){const q=e.reverseFillMask===!0?w===0?x.length>y.length?1:0:Math.max(0,x.length-(x===d?0:Math.min(y.length,b)+1))+1:w;a.setSelectionRange(q,q,"forward");return}if(e.reverseFillMask===!0)if(u===!0){const q=Math.max(0,x.length-(x===d?0:Math.min(y.length,b+1)));q===1&&w===1?a.setSelectionRange(q,q,"forward"):B.rightReverse(a,q)}else{const q=x.length-b;a.setSelectionRange(q,q,"backward")}else if(u===!0){const q=Math.max(0,s.indexOf(O),Math.min(y.length,w)-1);B.right(a,q)}else{const q=w-1;B.right(a,q)}});const h=e.unmaskedValue===!0?_(x):x;String(e.modelValue)!==h&&(e.modelValue!==null||h!=="")&&n(h,!0)}function Q(r,i,c){const a=j(_(r.value));i=Math.max(0,s.indexOf(O),Math.min(a.length,i)),M=i,r.setSelectionRange(i,c,"forward")}const B={left(r,i){const c=s.slice(i-1).indexOf(O)===-1;let a=Math.max(0,i-1);for(;a>=0;a--)if(s[a]===O){i=a,c===!0&&i++;break}if(a<0&&s[i]!==void 0&&s[i]!==O)return B.right(r,0);i>=0&&r.setSelectionRange(i,i,"backward")},right(r,i){const c=r.value.length;let a=Math.min(c,i+1);for(;a<=c;a++)if(s[a]===O){i=a;break}else s[a-1]===O&&(i=a);if(a>c&&s[i-1]!==void 0&&s[i-1]!==O)return B.left(r,c);r.setSelectionRange(i,i,"forward")},leftReverse(r,i){const c=I(r.value.length);let a=Math.max(0,i-1);for(;a>=0;a--)if(c[a-1]===O){i=a;break}else if(c[a]===O&&(i=a,a===0))break;if(a<0&&c[i]!==void 0&&c[i]!==O)return B.rightReverse(r,0);i>=0&&r.setSelectionRange(i,i,"backward")},rightReverse(r,i){const c=r.value.length,a=I(c),w=a.slice(0,i+1).indexOf(O)===-1;let b=Math.min(c,i+1);for(;b<=c;b++)if(a[b-1]===O){i=b,i>0&&w===!0&&i--;break}if(b>c&&a[i-1]!==void 0&&a[i-1]!==O)return B.leftReverse(r,c);r.setSelectionRange(i,i,"forward")}};function G(r){t("click",r),C=void 0}function H(r){if(t("keydown",r),dt(r)===!0||r.altKey===!0)return;const i=o.value,c=i.selectionStart,a=i.selectionEnd;if(r.shiftKey||(C=void 0),r.keyCode===37||r.keyCode===39){r.shiftKey&&C===void 0&&(C=i.selectionDirection==="forward"?c:a);const w=B[(r.keyCode===39?"right":"left")+(e.reverseFillMask===!0?"Reverse":"")];if(r.preventDefault(),w(i,C===c?a:c),r.shiftKey){const b=i.selectionStart;i.setSelectionRange(Math.min(C,b),Math.max(C,b),"forward")}}else r.keyCode===8&&e.reverseFillMask!==!0&&c===a?(B.left(i,c),i.setSelectionRange(i.selectionStart,a,"backward")):r.keyCode===46&&e.reverseFillMask===!0&&c===a&&(B.rightReverse(i,a),i.setSelectionRange(c,i.selectionEnd,"forward"))}function j(r){if(r==null||r==="")return"";if(e.reverseFillMask===!0)return F(r);const i=f;let c=0,a="";for(let w=0;w<i.length;w++){const b=r[c],E=i[w];if(typeof E=="string")a+=E,b===E&&c++;else if(b!==void 0&&E.regex.test(b))a+=E.transform!==void 0?E.transform(b):b,c++;else return a}return a}function F(r){const i=f,c=s.indexOf(O);let a=r.length-1,w="";for(let b=i.length-1;b>=0&&a!==-1;b--){const E=i[b];let y=r[a];if(typeof E=="string")w=E+w,y===E&&a--;else if(y!==void 0&&E.regex.test(y))do w=(E.transform!==void 0?E.transform(y):y)+w,a--,y=r[a];while(c===b&&y!==void 0&&E.regex.test(y));else return w}return w}function _(r){return typeof r!="string"||k===void 0?typeof r=="number"?k(""+r):r:k(r)}function V(r){return d.length-r.length<=0?r:e.reverseFillMask===!0&&r.length!==0?d.slice(0,-r.length)+r:r+d.slice(r.length)}return{innerValue:g,hasMask:S,moveCursorForPaste:Q,updateMaskValue:D,onMaskedKeydown:H,onMaskedClick:G}}function tn(e,t){function n(){const o=e.modelValue;try{const s="DataTransfer"in window?new DataTransfer:"ClipboardEvent"in window?new ClipboardEvent("").clipboardData:void 0;return Object(o)===o&&("length"in o?Array.from(o):[o]).forEach(d=>{s.items.add(d)}),{files:s.files}}catch{return{files:void 0}}}return t===!0?m(()=>{if(e.type==="file")return n()}):m(n)}var vn=ae({name:"QInput",inheritAttrs:!1,props:{...Lt,...Xt,...Qt,modelValue:[String,Number,FileList],shadowText:String,type:{type:String,default:"text"},debounce:[String,Number],autogrow:Boolean,inputClass:[Array,String,Object],inputStyle:[Array,String,Object]},emits:[...jt,"paste","change","keydown","click","animationend"],setup(e,{emit:t,attrs:n}){const{proxy:o}=W(),{$q:s}=o,d={};let f=NaN,k,M,C=null,S;const g=P(null),N=Nt(e),{innerValue:T,hasMask:I,moveCursorForPaste:K,updateMaskValue:D,onMaskedKeydown:Q,onMaskedClick:B}=en(e,t,y,g),G=tn(e,!0),H=m(()=>we(T.value)),j=Yt(b),F=Kt({changeEvent:!0}),_=m(()=>e.type==="textarea"||e.autogrow===!0),V=m(()=>_.value===!0||["text","search","url","tel","password"].includes(e.type)),r=m(()=>{const l={...F.splitAttrs.listeners.value,onInput:b,onPaste:w,onChange:u,onBlur:h,onFocus:_e};return l.onCompositionstart=l.onCompositionupdate=l.onCompositionend=j,I.value===!0&&(l.onKeydown=Q,l.onClick=B),e.autogrow===!0&&(l.onAnimationend=E),l}),i=m(()=>{const l={tabindex:0,"data-autofocus":e.autofocus===!0||void 0,rows:e.type==="textarea"?6:void 0,"aria-label":e.label,name:N.value,...F.splitAttrs.attributes.value,id:F.targetUid.value,maxlength:e.maxlength,disabled:e.disable===!0,readonly:e.readonly===!0};return _.value===!1&&(l.type=e.type),e.autogrow===!0&&(l.rows=1),l});L(()=>e.type,()=>{g.value&&(g.value.value=e.modelValue)}),L(()=>e.modelValue,l=>{if(I.value===!0){if(M===!0&&(M=!1,String(l)===f))return;D(l)}else T.value!==l&&(T.value=l,e.type==="number"&&d.hasOwnProperty("value")===!0&&(k===!0?k=!1:delete d.value));e.autogrow===!0&&Y(x)}),L(()=>e.autogrow,l=>{l===!0?Y(x):g.value!==null&&n.rows>0&&(g.value.style.height="auto")}),L(()=>e.dense,()=>{e.autogrow===!0&&Y(x)});function c(){Se(()=>{const l=document.activeElement;g.value!==null&&g.value!==l&&(l===null||l.id!==F.targetUid.value)&&g.value.focus({preventScroll:!0})})}function a(){g.value!==null&&g.value.select()}function w(l){if(I.value===!0&&e.reverseFillMask!==!0){const A=l.target;K(A,A.selectionStart,A.selectionEnd)}t("paste",l)}function b(l){if(!l||!l.target)return;if(e.type==="file"){t("update:modelValue",l.target.files);return}const A=l.target.value;if(l.target.qComposing===!0){d.value=A;return}if(I.value===!0)D(A,!1,l.inputType);else if(y(A),V.value===!0&&l.target===document.activeElement){const{selectionStart:Z,selectionEnd:U}=l.target;Z!==void 0&&U!==void 0&&Y(()=>{l.target===document.activeElement&&A.indexOf(l.target.value)===0&&l.target.setSelectionRange(Z,U)})}e.autogrow===!0&&x()}function E(l){t("animationend",l),x()}function y(l,A){S=()=>{C=null,e.type!=="number"&&d.hasOwnProperty("value")===!0&&delete d.value,e.modelValue!==l&&f!==l&&(f=l,A===!0&&(M=!0),t("update:modelValue",l),Y(()=>{f===l&&(f=NaN)})),S=void 0},e.type==="number"&&(k=!0,d.value=l),e.debounce!==void 0?(C!==null&&clearTimeout(C),d.value=l,C=setTimeout(S,e.debounce)):S()}function x(){requestAnimationFrame(()=>{const l=g.value;if(l!==null){const A=l.parentNode.style,{scrollTop:Z}=l,{overflowY:U,maxHeight:v}=s.platform.is.firefox===!0?{}:window.getComputedStyle(l),$=U!==void 0&&U!=="scroll";$===!0&&(l.style.overflowY="hidden"),A.marginBottom=l.scrollHeight-1+"px",l.style.height="1px",l.style.height=l.scrollHeight+"px",$===!0&&(l.style.overflowY=parseInt(v,10)<l.scrollHeight?"auto":"hidden"),A.marginBottom="",l.scrollTop=Z}})}function u(l){j(l),C!==null&&(clearTimeout(C),C=null),S!==void 0&&S(),t("change",l.target.value)}function h(l){l!==void 0&&_e(l),C!==null&&(clearTimeout(C),C=null),S!==void 0&&S(),k=!1,M=!1,delete d.value,e.type!=="file"&&setTimeout(()=>{g.value!==null&&(g.value.value=T.value!==void 0?T.value:"")})}function q(){return d.hasOwnProperty("value")===!0?d.value:T.value!==void 0?T.value:""}oe(()=>{h()}),ge(()=>{e.autogrow===!0&&x()}),Object.assign(F,{innerValue:T,fieldClass:m(()=>`q-${_.value===!0?"textarea":"input"}`+(e.autogrow===!0?" q-textarea--autogrow":"")),hasShadow:m(()=>e.type!=="file"&&typeof e.shadowText=="string"&&e.shadowText.length!==0),inputRef:g,emitValue:y,hasValue:H,floatingLabel:m(()=>H.value===!0&&(e.type!=="number"||isNaN(T.value)===!1)||we(e.displayValue)),getControl:()=>p(_.value===!0?"textarea":"input",{ref:g,class:["q-field__native q-placeholder",e.inputClass],style:e.inputStyle,...i.value,...r.value,...e.type!=="file"?{value:q()}:G.value}),getShadowControl:()=>p("div",{class:"q-field__native q-field__shadow absolute-bottom no-pointer-events"+(_.value===!0?"":" text-no-wrap")},[p("span",{class:"invisible"},q()),p("span",e.shadowText)])});const R=Ht(F);return Object.assign(o,{focus:c,select:a,getNativeElement:()=>g.value}),xe(o,"nativeEl",()=>g.value),R}});export{cn as A,zt as B,tn as C,dn as Q,rn as a,an as b,vn as c,on as d,fn as e,sn as f,un as g,Lt as h,jt as i,Ht as j,Kt as k,yt as l,bt as m,pt as n,qt as o,ve as p,Et as q,Ee as r,Re as s,xt as t,Qt as u,Se as v,Rt as w,Nt as x,we as y,Yt as z};
